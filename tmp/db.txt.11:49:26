========== mysqldumpslow ==========

[ DB LOG -- 11:49:26(isucon7-1) ]

[(1) Top 5 Query Time ]

Count: 698  Time=0.34s (235s)  Lock=0.00s (0s)  Rows=15.9 (11065), isucon[isucon]@localhost
  SELECT * FROM image WHERE name = 'S'

Count: 9958  Time=0.00s (36s)  Lock=0.00s (0s)  Rows=1.0 (9958), isucon[isucon]@localhost
  SELECT COUNT(*) as cnt FROM message WHERE channel_id = 'S'

Count: 10100  Time=0.00s (2s)  Lock=0.00s (0s)  Rows=0.0 (150), isucon[isucon]@localhost
  SELECT * FROM haveread WHERE user_id = 'S' AND channel_id = 'S'

Count: 84  Time=0.01s (0s)  Lock=0.00s (0s)  Rows=32.2 (2702), isucon[isucon]@localhost
  SELECT * FROM message WHERE id > 'S' AND channel_id = 'S' ORDER BY id DESC LIMIT N

Count: 2831  Time=0.00s (0s)  Lock=0.00s (0s)  Rows=1.0 (2831), isucon[isucon]@localhost
  SELECT name, display_name, avatar_icon FROM user WHERE id = 'S'

[(2) TOP 5 Query AVG ]

Count: 698  Time=0.34s (235s)  Lock=0.00s (0s)  Rows=15.9 (11065), isucon[isucon]@localhost
  SELECT * FROM image WHERE name = 'S'

Count: 1  Time=0.02s (0s)  Lock=0.00s (0s)  Rows=0.0 (0), isucon[isucon]@fp276e857c.stmb106.ap.nuro.jp
  SELECT TRIGGER_NAME FROM information_schema.TRIGGERS WHERE TRIGGER_SCHEMA = 'S'

Count: 8  Time=0.01s (0s)  Lock=0.00s (0s)  Rows=16.1 (129), isucon[isucon]@localhost
  SELECT * FROM message WHERE channel_id = 'S' ORDER BY id DESC LIMIT N OFFSET N

Count: 84  Time=0.01s (0s)  Lock=0.00s (0s)  Rows=32.2 (2702), isucon[isucon]@localhost
  SELECT * FROM message WHERE id > 'S' AND channel_id = 'S' ORDER BY id DESC LIMIT N

Count: 6  Time=0.00s (0s)  Lock=0.00s (0s)  Rows=0.0 (0), isucon[isucon]@fp276e857c.stmb106.ap.nuro.jp
  SELECT ROUTINE_NAME FROM information_schema.routines WHERE ROUTINE_SCHEMA = 'S' and ROUTINE_TYPE='S'




[(3) TOP 5 Query Count ]

Count: 10200  Time=0.00s (2s)  Lock=0.00s (0s)  Rows=0.0 (151), isucon[isucon]@localhost
  SELECT * FROM haveread WHERE user_id = 'S' AND channel_id = 'S'

Count: 10057  Time=0.00s (37s)  Lock=0.00s (0s)  Rows=1.0 (10057), isucon[isucon]@localhost
  SELECT COUNT(*) as cnt FROM message WHERE channel_id = 'S'

Count: 2831  Time=0.00s (0s)  Lock=0.00s (0s)  Rows=1.0 (2831), isucon[isucon]@localhost
  SELECT name, display_name, avatar_icon FROM user WHERE id = 'S'

Count: 1296  Time=0.00s (0s)  Lock=0.00s (0s)  Rows=0.0 (0), 0users@0hosts
  administrator command: Quit

Count: 1296  Time=0.00s (0s)  Lock=0.00s (0s)  Rows=14.7 (19087), isucon[isucon]@localhost
  #




========== pt-query-digest ==========


# 4.3s user time, 40ms system time, 34.02M rss, 88.41M vsz
# Current date: Sat Nov 14 11:49:32 2020
# Hostname: isucon7-1
# Files: /var/log/mysql/slow.log

# 4.4s user time, 50ms system time, 34.21M rss, 88.41M vsz
# Current date: Sat Nov 14 11:49:32 2020
# Hostname: isucon7-1
# Files: /var/log/mysql/slow.log

# 4.4s user time, 50ms system time, 34.21M rss, 88.41M vsz
# Current date: Sat Nov 14 11:49:32 2020
# Hostname: isucon7-1
# Files: /var/log/mysql/slow.log
